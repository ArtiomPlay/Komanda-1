@page "/account"
@inject Projektas.Client.Services.AccountServices AccountServices
@using Projektas.Shared;

<PageTitle>Account</PageTitle>

<div class="row">
	<div class="px-3 login col">
		<div class="type">
			Log In
		</div>
		<label class="textbox" for="accNickname">
			Nickname: <input type="text" name="accNickname" @bind="@accountNickname" />
		</label>
		<label class="textbox" for="accPassword">
			Password: <input type="text" name="accPassword" @bind="@accountPassword" />
		</label>
		<button class="submit" @onclick="LogInEvent">Submit</button>
	</div>
	<div class="px-3 singup col">
		<div class="type">
			Sign Up
		</div>
		<label class="textbox" for="accName">
			Name: <input type="text" name="accName" @bind="@newAccountName" />
		</label>
		<label class="textbox" for="accSurname">
			Surname: <input type="text" name="accSurname" @bind="@newAccountSurname" />
		</label>
		<label class="textbox" for="accNickname">
			Nickname: <input type="text" name="accNickname" @bind="@newAccountNickname" />
		</label>
		<label class="textbox" for="accPassword">
			Password: <input type="text" name="accPassword" @bind="@newAccountPassword" />
		</label>
		<button class="submit" @onclick="SignUpEvent">Submit</button>
	</div>
</div>

@code {
	private string? accountNickname { get; set; }
	private string? accountPassword { get; set; }
	private string? newAccountName { get; set; }
	private string? newAccountSurname { get; set; }
	private string? newAccountNickname { get; set; }
	private string? newAccountPassword { get; set; }

	private void LogInEvent() {
	}

	private async void SignUpEvent() {
		AccountInfo newAccount = new AccountInfo();

		test = "ok";
		newAccount.Name=newAccountName;
		newAccount.Surname=newAccountSurname;
		newAccount.Nickname=newAccountNickname;
		newAccount.Password=newAccountPassword;

		await AccountServices.CreateAccount(newAccount);
	}
}